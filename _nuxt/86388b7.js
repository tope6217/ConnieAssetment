(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{489:function(t,e,r){var content=r(532);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(19).default)("c1adceb0",content,!0,{sourceMap:!1})},531:function(t,e,r){"use strict";r(489)},532:function(t,e,r){var n=r(18)(!1);n.push([t.i,"tbody.position-body{position:relative}tr.position-tr{position:absolute;width:100%}.t-display{display:none}.bg{background:#f2eeee}.small{font-size:10}.close{position:absolute;left:102px;bottom:30px}.v-list-item{cursor:pointer}a{text-decoration:none}.down{border:1px solid #000;width:10px;height:10px;text-align:center;border-radius:100%;padding:6px}",""]),t.exports=n},550:function(t,e,r){"use strict";r.r(e);var n=r(558),c=r(226),o=r(457),l=r(517),d=r(545),h=r(202),v=r(177),_=r(206),m=r(137),f=r(140),x=r(451),y=r(546),k=r(512),C=r(447),w=r(544),S=r(547),A=r(556),L=r(54),j=(r(25),r(38)),E=(r(181),r(27),r(222),r(3),r(10),r(74),r(116),{components:{},data:function(){return{tabs:["All","Paid","Unpaid","Overdue"],headers:["name","user status","payment status","Amount","",""],mores:[{title:"Unpaid",color:"amber--text",action:"markpaid"},{title:"View Profile",color:"",action:"view"},{title:"Activate user",color:"success--text",action:"activate"},{title:"Deactivate",color:"red--text",action:"delete"},{title:"Remove",color:"error--text",action:"remove"}],uses:[],users:[],value:null,idarray:[],show:"false",check:null,items:[{name:"Default",object:"firstName"},{name:"Email",object:"email"},{name:"Last Login",object:"lastLogin"}],search:null,purple:"light-green lighten-5",text_color:"blue-grey--text lighten-5",sum:0,base_url:"http://cornie-assessment.herokuapp.com",headerjson:{"Content-Type":"application/json",Accept:"application/json"}}},methods:{register:function(){var t=this;return Object(j.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get(t.base_url+"/users/ABS3Z8Yj6RyiSwE",t.headerjson).then((function(e){t.uses=e.data,t.users=e.data}));case 2:case"end":return e.stop()}}),e)})))()},color:function(t){return"active"==t?"primary":"error"},checked:function(t){var e=t.target.id,r=t.target.getAttribute("index"),data={idd:e,index:r},n=this.idarray.indexOf({idd:e,index:r});t.target.checked?-1==n&&this.idarray.push(data):this.idarray.splice(n,1)},activities:function(t){for(var g=document.getElementsByClassName("position-tr"),i=0;i<g.length;i++){g[i].classList.add("t-display");var e=g[i].parentNode;g[i].classList.remove("bg"),e.style="height :10px",e.classList.remove("bg")}var r=t.target.id,n=t.target.parentNode.parentNode.parentNode;"false"==t.target.getAttribute("show")?(n.style="height :"+7*r+"em",t.target.setAttribute("show","true"),n.querySelectorAll("tr.position-tr")[0].classList.remove("t-display"),n.classList.add("bg")):(n.style="height :10px",t.target.setAttribute("show","false"),n.querySelectorAll("tr.position-tr")[0].classList.add("t-display"),n.classList.remove("bg"))},select:function(t){this.search=t.target.getAttribute("value");var e=t.target.parentNode.getElementsByClassName("v-icon")[0];document.getElementsByClassName("select-icon").forEach((function(element){element.classList.add("light--text"),element.classList.remove("light--text")})),e.classList.add("primary--text"),e.classList.remove("light--text")},payment:function(t){"all"==t.target.getAttribute("value").toString().toLowerCase()?this.uses=this.users:this.src("paymentStatus",t.target.getAttribute("value"))},src:function(t,e){var r=[];this.idarray=[],document.querySelectorAll(".check").checked=!1,this.users.forEach((function(element){element[t].toString().toLowerCase()==e.toString().toLowerCase()&&r.push(element)})),this.uses=r},searchftn:function(t){var e=this.search,r=this.value;null==r&&null==e||this.src(e,r)},actions:function(t){var e=this,r=t.target,n=r.getAttribute("action"),c=r.getAttribute("user_id"),o=r.getAttribute("index");"delete"==n?this.$axios.patch(this.base_url+"/deactivate-user/"+c,this.headerjson).then((function(t){var data=t.data;1==data.status&&(e.uses.splice(o,1,data.data),e.users.splice(o,1,data.data))})):"markpaid"==n?this.$axios.patch(this.base_url+"/mark-unpaid/"+c,this.headerjson).then((function(t){var data=t.data;if(1==data.status){e.users[o]=data.data;e.uses.splice(o,1,data.data),e.users.splice(o,1,data.data)}})):"activate"==n?this.$axios.patch(this.base_url+"/activate-user/"+c,this.headerjson).then((function(t){var data=t.data;if(1==data.status){e.users[o]=data.data;e.uses.splice(o,1,data.data),e.users.splice(o,1,data.data)}})):"view"==n||"remove"==n&&this.$axios.patch(this.base_url+"/remove-user/"+c,this.headerjson).then((function(t){1==t.data.status&&(e.uses.splice(o,1),e.users.splice(o,1))}))},paydues:function(t){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 1==(r=document.querySelectorAll(".checkall")[0]).checked&&(r.checked=!1),t.next=4,e.idarray.forEach((function(element,t){e.$axios.patch(e.base_url+"/mark-paid/"+element.idd,e.headerjson).then((function(r){var data=r.data;1==data.status&&(e.uses.splice(element.index,1,data.data),e.users.splice(element.index,1,data.data),e.idarray.splice(t,1),document.querySelectorAll(".check"+element.idd)[0].checked=!1)}))}));case 4:case"end":return t.stop()}}),t)})))()},checkAll:function(t){var e=this;this.uses.forEach((function(element,r){var data={idd:element.id,index:r},n=e.idarray.indexOf(data);t.target.checked?-1==n&&(e.idarray.push(data),document.querySelectorAll(".check"+element.id)[0].checked=!0):(e.idarray.splice(n,1),document.querySelectorAll(".check"+element.id)[0].checked=!1)}))}},mounted:function(){this.register()},watch:{uses:function(t,e){if(t!=e){var r=0;t.forEach((function(element){r+=element.amountInCents})),this.sum=r,this.uses=t}}}}),z=(r(531),r(58)),component=Object(z.a)(E,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"container"},[e(o.a,{staticClass:"mx-auto",attrs:{color:t.purple}},[e("div",{staticClass:"px-5 py-5",attrs:{color:t.purple}},[e("h5",{class:t.text_color},[t._v("Table heading")]),t._v(" "),e(L.a,{attrs:{flat:"",color:t.purple}},[e(S.a,t._l(t.tabs,(function(r,n){return e(w.a,{key:n,staticClass:"mx-0",attrs:{value:r},on:{click:function(e){return t.payment(e)}}},[t._v(t._s(r))])})),1),t._v(" "),e("span",{staticStyle:{"font-size":"12px"}},[t._v("Total payable amount "),e("span",{staticClass:"primary--text",staticStyle:{"font-weight":"900"}},[t._v("$"+t._s(t.sum))])])],1),t._v(" "),e(d.a),t._v(" "),e(L.a,{attrs:{flat:"",color:t.purple}},[e(x.a,{attrs:{"nudge-bottom":50,"min-width":"170px"},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[e(c.a,t._g(t._b({attrs:{color:"primary"}},"v-btn",o,!1),n),[e(v.a,{attrs:{src:"@/assets/img/fiter.svg"}}),t._v(" filter\n       ")],1)]}}])},[t._v(" "),e(_.a,t._l(t.items,(function(r,n){return e(m.a,{key:n},[e(f.a,{style:n>0?"margin-top:-35px":"padding-bottom:4px"},[e(L.a,{staticClass:"py-0 px-0",attrs:{value:r.object},on:{click:function(e){return t.select(e)}}},[e("a",{class:t.text_color,attrs:{href:"#"}},[t._v(t._s(r.name))]),t._v(" "),e(C.a),t._v(" "),e(h.a,{staticClass:"ml-10 light--text select-icon"},[t._v("mdi-circle")])],1)],1)],1)})),1)],1),t._v(" "),e(A.a,{staticClass:"ml-5 mt-6",attrs:{label:"search",placeholder:"Search",filled:"",dense:"",outlined:"","prepend-inner-icon":"mdi-magnify",small:!0},on:{blur:function(e){return t.searchftn(e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),e(C.a),t._v(" "),e(c.a,{attrs:{color:"primary"},on:{click:function(e){return t.paydues(e)}}},[t._v("Pay DUES")])],1),t._v(" "),e(d.a),t._v(" "),e(k.a,{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",{attrs:{color:t.purple}},[e("th",{staticClass:"text-uppercase"},[e("input",{staticClass:"check checkall",attrs:{color:"red",type:"checkbox"},domProps:{checked:!1},on:{click:function(e){return t.checkAll(e)}}})]),t._v(" "),e("th",{staticClass:"text-uppercase"},[e(h.a,[t._v("mdi-menu-down")])],1),t._v(" "),t._l(t.headers,(function(header,r){return e("th",{key:r,staticClass:"text-uppercase"},[t._v(t._s(header))])}))],2)]),t._v(" "),t._l(t.uses,(function(r,o){return e("tbody",{key:o,staticClass:"position-body"},[e("tr",[e("td",[e("input",{class:"check"+r.id+" check",attrs:{index:o,id:r.id,type:"checkbox"},domProps:{checked:r.checked},on:{click:function(e){return t.checked(e)}}})]),t._v(" "),e("td",[e(h.a,{staticClass:"down",attrs:{size:"21px",show:t.show,id:r.activities.length},on:{click:function(e){return t.activities(e)}}},[t._v("mdi-menu-down")])],1),t._v(" "),e("td",[e("h5",[t._v(t._s(r.firstName))]),t._v(" "),e("span",[t._v(t._s(r.email))])]),t._v(" "),e("td",{staticClass:"text-center"},[e(l.a,{class:"active"==r.userStatus?"primary--text text-capitalize":"light--text text-capitalize"},[e(n.a,{staticClass:"mr-3",attrs:{color:"active"==r.userStatus?"primary":"black",dot:""}}),t._v(t._s(r.userStatus))],1),t._v(" "),e("h6",[t._v("last login: "+t._s(r.activities[r.activities.length-1].date))])],1),t._v(" "),e("td",{staticClass:"text-center"},["paid"==r.paymentStatus?e("span",[e(l.a,{staticClass:"success--text text-capitalize"},[e(n.a,{staticClass:"mr-3",attrs:{color:"success",dot:""}}),t._v(t._s(r.paymentStatus))],1),t._v(" "),e("br"),e("small",{staticStyle:{"font-weight":"bold","font-size":"10px"}},[t._v("Paid on "+t._s(r.paidOn))])],1):"unpaid"==r.paymentStatus?e("span",[e(l.a,{staticClass:"amber--text text-capitalize"},[e(n.a,{staticClass:"mr-3",attrs:{color:"amber",dot:""}}),t._v(t._s(r.paymentStatus))],1),t._v(" "),e("br"),e("small",{staticStyle:{"font-weight":"bold","font-size":"10px"}},[t._v("Dues on "+t._s(r.paidOn))])],1):e("span",[e(l.a,{staticClass:"red--text text-capitalize"},[e(n.a,{staticClass:"mr-3",attrs:{color:"red",dot:""}}),t._v(t._s(r.paymentStatus))],1),t._v(" "),e("br"),e("small",{staticStyle:{"font-weight":"bold","font-size":"10px"}},[t._v("Dues on "+t._s(r.paidOn))])],1)]),t._v(" "),e("td",{staticClass:"text-center"},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v("$"+t._s(r.amountInCents))]),e("br"),t._v(" "),e("small",[t._v(t._s("USD"))])]),t._v(" "),e("td",[e("span",[t._v("view more")])]),t._v(" "),e("td",[e(x.a,{attrs:{top:"","offset-x":!0,"close-on-content-click":!0},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[e(c.a,t._g(t._b({attrs:{color:"light",primary:"",depressed:""}},"v-btn",o,!1),n),[e(h.a,{attrs:{color:"primary"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[t._v(" "),e(h.a,{staticClass:"close"},[t._v("mdi-close")]),t._v(" "),e(_.a,t._l(t.mores,(function(n,c){return e(m.a,{key:c,style:4==parseInt(c)?"margin-bottom:-6px":"margin-bottom:-17px"},[e(f.a,{class:n.color,attrs:{user_id:r.id,index:o,action:n.action},on:{click:function(e){return t.actions(e)}}},[t._v(t._s(n.title))]),t._v(" "),3==parseInt(c)?e(d.a):t._e()],1)})),1)],1)],1)]),t._v(" "),e("tr",{staticClass:"position-tr t-display"},[e(k.a,{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",{staticClass:"bg"},[e("th",{staticClass:"text-uppercase"},[t._v("DATE")]),t._v(" "),e("th",{staticClass:"text-uppercase"},[t._v("USER ACTIVITY")]),t._v(" "),e("th",{staticClass:"text-uppercase"},[t._v("DETAIL")])])]),t._v(" "),e("tbody",t._l(r.activities,(function(r,n){return e("tr",{key:n,staticClass:"bg"},[e("td",[t._v(t._s(r.date))]),t._v(" "),e("td",[t._v(t._s(r.userActivity))]),t._v(" "),e("td",[t._v(t._s(r.details))])])})),0)]},proxy:!0}],null,!0)})],1)])}))]},proxy:!0}])})],1)]),t._v(" "),e(L.a,{attrs:{flat:""}},[e(C.a),t._v(" "),e("div",{staticClass:"text-center"},[e(y.a,{attrs:{length:3}})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);